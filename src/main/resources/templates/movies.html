<!DOCTYPE html>
<html>

<head>
	<title>Film</title>
	<link rel="stylesheet" th:href="@{/css/movie.css}" />
	<link rel="stylesheet" th:href="@{/css/home.css}" />

	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
</head>

<body>
<a href="/" id="go-back">
	<i id="home" class="fa fa-home"></i>
</a>

	<div th:if="${movies==null || movies.isEmpty()}">Non ci sono film nel sistema</div>

	<div id="wrapper">
		<div id="luce"></div>
		<div id="light"></div>
	</div>

	<div id="post"  th:each="movie : ${movies}">
		<div class="tape-left">

			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>

		</div>

		<div class="center">
			<div class="top-padding"></div>
			<div class="upper-bound"></div>
			<a  th:href="'/movie' + '/' + ${movie.id}" class="movie">
				<img  class="movie-image" th:src="@{${movie.getImagePath}}">
			</a>
			<div class="lower-bound">
			</div>
			<div class="lower-padding"></div>
		</div>
		<div class="tape-right">
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
			<div></div>
		</div>
	</div>
	</div>
	<script>
		const slider = document.querySelector('.actors');
		let isDown = false;
		let startX;
		let scrollLeft;

		slider.addEventListener('mousedown', (e) => {
			isDown = true;
			slider.classList.add('active');
			startX = e.pageX - slider.offsetLeft;
			scrollLeft = slider.scrollLeft;
		});
		slider.addEventListener('mouseleave', () => {
			isDown = false;
			slider.classList.remove('active');
		});
		slider.addEventListener('mouseup', () => {
			isDown = false;
			slider.classList.remove('active');
		});
		slider.addEventListener('mousemove', (e) => {
			if(!isDown) return;
			e.preventDefault();
			const x = e.pageX - slider.offsetLeft;
			const walk = (x - startX) * 3; //scroll-fast
			slider.scrollLeft = scrollLeft - walk;
			console.log(walk);
		});
	</script>
</body>
</html>